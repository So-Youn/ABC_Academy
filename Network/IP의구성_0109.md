# IP

> 네트워크를 통해 데이터를 전달하는 프로토콜로 인터넷에 연결된 모든 호스트들이 사용한다
>
> IP 주소는 **숫자 값**으로 이루어 지는데 이는 인터넷에서 중복되지 않는 유일한 값이다.
>
> 올바른 데이터 전송을 위해 패킷의 위치를 확인하고, IP주소를 이용해 이를 명시한다
>
> 패킷 절단, 호스트의 주소 지정, 전송 경로의 논리적 관여, 경로 선택 등의 기능 제공
>
> * 현재 사용하는 IP 주소는 IPv4로 이는 32비트를 8비트씩 4개의 점(.)으로 나누어 표시한다.
>
> * 호스트 주소와 네트워크 주소로 구성된다. 
>
> * 동일한 네트워크 구획상의 모든 호스트는 같은 네트워크 ID를 갖는다.
> * 한 컴퓨터에 1개의 IP 주소를 갖지만 게이트웨이 역할을 하는 컴퓨터는 2개의 IP 주소를 가짐
> * IP 주소의 범위 `0.0.0.0` ~ `255.255.255.255`

## IP 주소 클래스

* PC나 네트워크 장비에 주소를 할당하여 인터넷에서 사용할 수 있는 클래스 범위는`Class A , B, C` 뿐이다.
  * *Class C, D는 PC에 직접 할당할 수 없으므로 인터넷 사용이 불가능하다.*
* Class A , B, C 에는 **Private IP Address**라는 주소 영역이 예약되어 있어 IP 할당이 가능하다
  * Private IP Address가 정해져 있는 것은 인터넷을 사용하지 않는 네트워크의 폐쇄적 시스템에서 TCP/IP 프로토콜을 사용하여 통신하기 때문이다.

## Class A

* IP 주소의 시작 비트는 항상 `0`이며, 최대 `16,777,216`개의 호스트를 수용할 수 있으므로 Class 중 크기가 가장 크다(**국가나 대형 네트워크**)

* 1개의 네트워크 부분 옥텟과 3개의 호스트 부분 옥텟으로 구분된다.

* 주소 범위 : `0.0.0.0` ~ `127.255.255.255` 
  * 실제 사용 가능한 주소 범위 `1.0.0.0` ~ `126.255.255.255` 까지 이다.

## Class B

* IP 주소의 시작 비트는 항상 `10`이며, 최대 `65,534`개의 호스트를 수용 가능하다.(**중대형 네트워크**)
* Network ID는 `128.0` ~ `191.255` 이고, Host ID는 `0.1`~`255.254`가 된다.
  * ex) IP Address가 `150.32.25.3`인 경우 Network ID는 `150.32` Host ID는 `25.3`
* Host ID가 `255.255`일 때는 메시지가 네트워크 전체로 **브로드캐스트** 된다.
* 2개의 네트워크 부분 + 2개의 호스트 부분
* 주소 범위 : `128.0.0.0` ~ `191.55.255.255`

## Class C

* IP의 시작 비트는 항상 `110` 이며, 최대 254개의 호스트 수용 가능, 크기가 가장 작다.(**소형 네트워크**)
* 현재 LAN 환경으로 할당되는 주소의 대부분이 Class C이다.
* 3개의 네트워크 부분 + 1개의 호스트 부분
* Host ID가 `255`일 때는 메시지가 네트워크 전체로 **브로드캐스트** 된다.
* 주소 범위 : `192.0.0.0` ~ `223.255.255.255`



## Class D

* IP 주소의 시작 비트는 `1110` 이며 **IP 멀티캐스트**라는 특별한 기능을 위해 만들어진 **멀티캐스트** 주소이다.
* 패킷은 해당 주소가 대표로 하는 호스트나 네트워크 디바이스에만 수신된다.
* 멀티캐스트는 적은 대역폭으로 인터넷 방송과 같은 다중 사용자들에게 동시에 데이터를 전송할 수 있다.





# IPv6

> 현재 IP 주소의 부족 현상을 해소하기 위한 **차세대 IP 주소 체계**로 **실시간 멀티미디어 기능을 강화**한다.
>
> IPv4의 주소 공간을 4배 확장한 것으로 128비트를 16비트씩 8개로 나누어 표시하며, IP는 콜론(:)으로 구분한다.
>
> **라우터의 부하 증가**에 따른 **오버플로우**가 원인으로 주소 부족의 문제 해결이 가장 중요한 목적이다.

```markdown
# IPv4의 문제점
* 할당 가능한 주소가 부족 
* 보안성 부족
* 새로운 서비스에 대한 성능 부족
```

**IPv6의 특징**

* 라우터의 부담을 줄이고, 네트워크 부하를 분산시킬 수 있다
* 암호 처리 및 사용자 인증 기능이 내장되어 있으며, Mobile IP 지원이 가능
* IP 헤더 옵션이 인코딩 되는 과정에서 향상된 기능과 다양한 옵션을 제공
  * IPv4 헤더에 캡슐화가 되어 있어서 현재 사용하는 IPv4와 상호 운용성을 갖는다.
* 보안, 인증(증명), 라벨링, 데이터 무결성, 데이터 비밀성 등의 능력을 제공
* `X:X:X:X:X:X:X:X`의 형식에서 `X`는 16비트이고, 4개의 16진수로 표현된다.



| 구분               | IPv4               | IPv6                           |
| ------------------ | ------------------ | ------------------------------ |
| 주소 공간 크기     | 32비트 (Class A~D) | 128비트 (Uni, Any, Multi Cast) |
| 헤더 필드 수       | 10개(복잡)         | 6개(단순)                      |
| 헤더 체크 섬       | 있음               | 삭제                           |
| 자동 설정  및 보안 | 없음               | 있음                           |
| QoS 지원 기능      | 없음               | 있음                           |

> **서비스 품질(QoS)**  : TPC/IP 프로토콜의 응용 서비스 형태별로 <u>통신의 우선 순위를 배정</u>하는 기술

## IPv6의 종류

* 유니 캐스트
  * 한 개의 노드에 대한 통신으로 단일 목적지를 지정하는 주소 형태
  * 네트워크의 인터페이스들은 주소 부여가 가능한 수신지
  * 대부분의 통신 형태로 해당 주소로 보내진 패킷은 그 주소에 해당하는 노드에만 전달된다
* 애니 캐스트
  * 동시에 복수 개의 인터페이스에 주소 부여가 가능한 형태
  * 해당 주소로 보내진 패킷은 노드 그룹들 중 하나에만 전달
  * 패킷을 받는 노드는 라우팅 프로토콜의 거리 측정으로 결정하며, 같은 애니 캐스트 주소를 갖는 인터페이스 중 가장 짧은 노드에 전달된다.
* 멀티 캐스트
  * 여러 개의 노드가 수신할 수 있는 특정 송출지 번지를 지닌 형태
  * 해당 주소로 보내진 패킷은 **그룹의 모든 노드들에게 전달**된다.
  * IPv6에는 기존에 존재하던 브로드 캐스트 주소가 없어지고, 멀티 캐스트 주소로 대체되었다.